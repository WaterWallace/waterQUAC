% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/WMIP.R
\name{wmip_hist}
\alias{wmip_hist}
\title{Data extraction from the Water Monitoring Information portal}
\source{
\url{https://water-monitoring.information.qld.gov.au/}
}
\usage{
wmip_hist(
  site_id,
  var = "level",
  datasource = "AT",
  start_time,
  end_time = format(Sys.Date() + 1, "\%Y\%m\%d"),
  type = "mean",
  interval = "hour",
  report = "start",
  multiplier = 1
)
}
\arguments{
\item{site_id}{A gauging station number as defined in the WMIP platform.}

\item{var}{A string referring to the reported variable from the desired site. Refer to \url{https://water-monitoring.information.qld.gov.au/} for information regarding the desired site and what data is available per the desired time period. This parameter defaults to "Level". Options are: level/discharge/rainfall/temperature/conductivity/pH/turbidity}

\item{datasource}{A string referring to the desired data source for the data to be extracted from. Defaults to "AT" which is the Archive-telemetered composite source. Options are: A/TE/AT/ATQ}

\item{start_time}{Date* to lookback to. Format = "YYYYMMDD"}

\item{end_time}{Date* to end the extraction period on. Format = "YYYYMMDD". Defaults to the system date plus one day.}

\item{type}{String max, min, mean, end, tot, cum, inst, point}

\item{interval}{String year, month, day, hour, minute, second}

\item{report}{String start or end}
}
\value{
A data frame containing extracted WMIP data for specified gauging station/parameter.
}
\description{
Extracts data from the Water Monitoring Information Portal (WMIP). This platform is the front end of DRDMW's Hydstra database. It contains river level, discharge, water quality and rainfall data to list a few. What is available for each gauging station can be seen in the WMIP platform. This should be used to determine what parameter codes can be extracted in this function
}
\examples{
df_test <- wmip_hist(site_id = "110001D", start_time = "20220801", var = "temperature")

# bulk extract of level data
wmip_sites <- c(
"102102A",
"105107A",
"109001A",
"109001A",
"111101D",
"112004A",
"112101B",
"116001F",
"117002A",
"119003A",
"120006B",
"120002C",
"120015A",
"129001A",
"130005A",
"130005A",
"130113A",
"130302A",
"130401A",
"130401A",
"130504B",
"132001A",
"137001B",
"137201A",
"141010A",
"143107A"
)


list <- list()


for (i in 1:length(wmip_sites)){
  site = wmip_sites[i]
  list[[i]] <- wmip_hist(site_id = site,
                         start_time = "20230101"
  )

}
list <- list[lapply(list, typeof) == "list"]
levels = do.call(rbind, list)

}
